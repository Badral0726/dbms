DROP DATABASE IF EXISTS COFFEESHOP;
CREATE DATABASE COFFEESHOP;
USE COFFEESHOP;

CREATE TABLE SALBAR
(
	SALBAR_CODE INT PRIMARY KEY,
	SALBAR_NER VARCHAR(45),
	SALBAR_HAYG VARCHAR(255)
);

CREATE TABLE AJILTAN_TURUL
(
	AJILTAN_TURUL_CODE INT PRIMARY KEY auto_increment,
	AJILTAN_TURUL_NER VARCHAR(45)
);

CREATE TABLE AJILTAN
(
	AJILTAN_CODE INT PRIMARY KEY auto_increment,
	AJILTAN_OWOG VARCHAR(45),
	AJILTAN_NER VARCHAR(45),
	REGISTRIIN_DUGAAR VARCHAR(10),
	AJILTAN_LOGINNAME VARCHAR(45),
	AJILTAN_PASSWORD VARCHAR(16),
	AJILTAN_HAYG VARCHAR(255),
	AJILTAN_UTAS VARCHAR(8),
	AJILTAN_TURSUN_OGNOO DATE,
	SALBAR_CODE INT,
	AJILTAN_TURUL_CODE INT,
	FOREIGN KEY (SALBAR_CODE) REFERENCES SALBAR(SALBAR_CODE),
	FOREIGN KEY (AJILTAN_TURUL_CODE) REFERENCES AJILTAN_TURUL(AJILTAN_TURUL_CODE)
);

CREATE TABLE UILCHLUULEGCH
(
	UILCHLUULEGCH_CODE INT PRIMARY KEY auto_increment,
	UILCHLUULEGCH_OWOG VARCHAR(45),
	UILCHLUULEGCH_NER VARCHAR(45),
	REGISTRIIN_DUGAAR VARCHAR(10),
	UILCHLUULEGCH_UTAS VARCHAR(8),
	UILCHLUULEGCH_HAYG VARCHAR(255),
	UILCHLUULEGCH_ELSSEN_OGNOO DATE
);

CREATE TABLE HUNGULULT
(
	HUNGULULT_CODE INT PRIMARY KEY,
	HUNGULULT_NER VARCHAR(45),
	HUNGULULT_HUWI INT
);

CREATE TABLE ANGILAL
(
	ANGILAL_CODE INT PRIMARY KEY auto_increment,
	ANGILAL_NER VARCHAR(45)
);

CREATE TABLE TURUL
(
	TURUL_CODE INT PRIMARY KEY auto_increment,
	TURUL_NER VARCHAR(45),
	ANGILAL_CODE INT,
	FOREIGN KEY(ANGILAL_CODE) REFERENCES ANGILAL(ANGILAL_CODE)
);

CREATE TABLE BUTEEGDEHUUN
(
	BUTEEGDEHUUN_CODE INT PRIMARY KEY auto_increment,
	BUTEEGEHUUN_NER VARCHAR(45),
	BUTEEGDEHUUN_UNE DECIMAL(8,2),
	BUTEEGDEHUUN_TAILBAR VARCHAR(255),
	TURUL_CODE INT,
	FOREIGN KEY (TURUL_CODE)REFERENCES TURUL(TURUL_CODE)
);

CREATE TABLE ZAHIALGA
(
	ZAHIALGA_DUGAAR INT PRIMARY KEY auto_increment,
	ZAHIALGIIN_OGNOO DATE,
	SALBAR_CODE INT,
	AJILTAN_CODE INT,
	UILCHLUULEGCH_CODE INT,
	HUNGULULT_CODE INT,
	FOREIGN KEY (SALBAR_CODE)REFERENCES SALBAR(SALBAR_CODE),
	FOREIGN KEY (AJILTAN_CODE) REFERENCES AJILTAN(AJILTAN_CODE),
	FOREIGN KEY (UILCHLUULEGCH_CODE)REFERENCES UILCHLUULEGCH(UILCHLUULEGCH_CODE),
	FOREIGN KEY (HUNGULULT_CODE) REFERENCES HUNGULULT(HUNGULULT_CODE)
);

CREATE TABLE ZAHIALGA_DELGERENGUI
(
	ZAHIALGA_DELGERENGUI_DUGAAR INT PRIMARY KEY auto_increment,
	BUTEEGDEHUUN_TOO INT,
	BUTEEGDEHUUN_CODE INT,
	ZAHIALGA_DUGAAR INT,
	FOREIGN KEY (BUTEEGDEHUUN_CODE) REFERENCES BUTEEGDEHUUN(BUTEEGDEHUUN_CODE),
	FOREIGN KEY (ZAHIALGA_DUGAAR) REFERENCES ZAHIALGA (ZAHIALGA_DUGAAR)
);

CREATE TABLE TULBUR_HELBER_LAVLAH
(
	TULBUR_HELBER_CODE INT PRIMARY KEY,
	TULBUR_HELBER_NER VARCHAR(45)
);

CREATE TABLE TULBUR
(
	TULBUR_CODE INT PRIMARY KEY auto_increment,
	TULBUR_HEMJEE DECIMAL(10,2),
	TULBUR_OGNOO DATE,
	TULBUR_HELBER_CODE INT,
	ZAHIALGA_DUGAAR INT,
	FOREIGN KEY (TULBUR_HELBER_CODE) REFERENCES TULBUR_HELBER_LAVLAH(TULBUR_HELBER_CODE),
	FOREIGN KEY (ZAHIALGA_DUGAAR) REFERENCES ZAHIALGA(ZAHIALGA_DUGAAR)
);

insert into SALBAR
values
    ('001', 'ROC1', 'BZD 15R HOROO 8R HESEG'),
    ('002', 'ROC2', 'KHAN-UUL DUUREG 20R HOROO 30R HESEG'),
    ('003', 'ROC3', 'BAYNGOL DUUREG 8R HOROO 2R HESEG'),
    ('004', 'ROC4', 'SUKHBAATAR DUUREG 1R HOROO 3R HESEG'),
    ('005', 'ROC5', 'CHINGELTEI DUUREG 3R HOROO 17R HESEG'),
    ('006', 'ROC6', 'SUKHBAATAR DUUREG 16R HOROO 2R HESEG');
   
